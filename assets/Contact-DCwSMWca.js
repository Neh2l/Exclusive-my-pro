import{r,b as E,j as e,L as b}from"./index-ZO4fBbRD.js";async function C(n,i){try{const a=await fetch("https://backend-gules-six-47.vercel.app/api/contact",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(n)});if(!a.ok)throw new Error(`Error: ${a.status}`);const c=await a.json();return console.log("Response:",c),c}catch(a){return console.error("Request failed:",a.message),null}}function q(){const[n,i]=r.useState(""),[a,c]=r.useState(""),[l,h]=r.useState(""),[d,p]=r.useState(""),[t,x]=r.useState({}),[g,m]=r.useState(!1),[j,o]=r.useState(""),N=E(),y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,S=()=>{const s={};return n.trim()||(s.name="Name is required"),y.test(a)||(s.email="Email is invalid"),l.trim()||(s.phone="Phone is required"),d.trim()||(s.message="Message is required"),s},w=async s=>{s.preventDefault(),o("");const v=S();if(x(v),Object.keys(v).length===0){m(!0);try{const u=localStorage.getItem("token");if(!u){o("You must be logged in to send a message."),m(!1);return}const f=await C({userName:n,email:a,phone:l,message:d},u);f.success==="success"?(o("Message sent successfully!"),i(""),c(""),h(""),p(""),x({})):o(f.message||"Failed to send message.")}catch{o("Error connecting to server.")}finally{m(!1)}}};return e.jsxs("div",{className:"contact-wrapper",children:[e.jsxs("div",{className:"pageHeading py-5 d-flex w-25 ",children:[e.jsx(b,{to:"/",className:" me-1",children:"Home"}),e.jsx("span",{className:"active ",children:N.pathname})]}),e.jsx("div",{className:"contact-wrapper",children:e.jsxs("div",{className:"contact-container",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("h4",{children:"Call To Us"}),e.jsx("p",{children:"We are available 24/7, 7 days a week."}),e.jsx("p",{children:"Phone: +8801611112222"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsx("h4",{children:"Write To Us"}),e.jsx("p",{children:"Fill out our form and we will contact you within 24 hours."}),e.jsx("p",{children:"Email: customer@exclusive.com"}),e.jsx("p",{children:"Support: support@exclusive.com"})]})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-card",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"field1",children:[e.jsx("input",{type:"text",placeholder:"Your Name *",value:n,onChange:s=>i(s.target.value)}),t.name&&e.jsx("p",{className:"error",children:t.name}),e.jsx("input",{type:"email",placeholder:"Your Email *",value:a,onChange:s=>c(s.target.value)}),t.email&&e.jsx("p",{className:"error",children:t.email}),e.jsx("input",{type:"text",placeholder:"Your Phone *",value:l,onChange:s=>h(s.target.value)}),t.phone&&e.jsx("p",{className:"error",children:t.phone})]}),e.jsx("textarea",{placeholder:"Your Message *",value:d,onChange:s=>p(s.target.value)}),t.message&&e.jsx("p",{className:"error",children:t.message}),e.jsx("button",{type:"submit",disabled:g,children:g?"Sending...":"Send Message"}),j&&e.jsx("p",{className:"success",children:j})]})})})]})})]})}export{q as default};
