import{r as t,C as y,d as C,P as b,u as P,j as s}from"./index-ZO4fBbRD.js";/* empty css                */import{h as S,l as A,m as k}from"./index-CbCEfNvF.js";import"./iconBase-_TwN_3LG.js";const I=()=>{const{addToCart:m}=t.useContext(y),{id:n}=C(),{products:r}=t.useContext(b),[e,h]=t.useState(null),[d,l]=t.useState(""),[c,o]=t.useState(1),[x,j]=t.useState(!0),[p,u]=t.useState(!1),g=P();if(t.useEffect(()=>{(async()=>{try{let i=r.find(N=>N._id===n);h(i),l(i?.images?.[0]||"")}catch(i){console.error("Error fetching product:",i)}finally{j(!1)}})()},[r,n]),x)return s.jsx("p",{children:"Loading product..."});e||g("/");const f=e?.images?.length>0?e.images.slice(0,4):[e.images,e.images,e.images,e.images];r.filter(a=>a.category===e.category&&a._id!==e._id);function v(){m({...e,quantity:c}),u(!0),setTimeout(()=>u(!1),2e3)}return s.jsx("div",{className:"product-details-page py-5 my-5",children:s.jsxs("div",{className:"product-section",children:[s.jsx("div",{className:"gallery",children:f.map((a,i)=>s.jsx("img",{src:a,alt:e?.title||"product",className:`thumb ${d===a?"active":""}`,onClick:()=>l(a)},i))}),s.jsx("div",{className:"main-image",children:s.jsx("img",{src:d,alt:e?.title||"product"})}),s.jsxs("div",{className:"details",children:[s.jsx("h2",{className:"title",children:e?.name||"No Title"}),s.jsxs("h3",{className:"price",children:["$",e?.price||0]}),s.jsx("p",{className:"desc",children:e?.description||"No description"}),s.jsxs("div",{className:"quantity",children:[s.jsx("button",{onClick:()=>o(c>1?c-1:1),children:"-"}),s.jsx("span",{children:c}),s.jsx("button",{onClick:()=>o(c+1),children:"+"})]}),s.jsxs("div",{className:"actions",children:[s.jsx("button",{className:"cart",onClick:v,children:p?"Added to cart!":"Add to Cart"}),s.jsx("button",{className:"fav",children:s.jsx(S,{})})]}),s.jsxs("div",{className:"extra",children:[s.jsxs("div",{className:"service",children:[s.jsx(A,{className:"icon"}),s.jsxs("div",{children:[s.jsx("h4",{children:"Fast Delivery"}),s.jsx("p",{children:"Get your order delivered within 2-5 business days with full tracking information available."})]})]}),s.jsxs("div",{className:"service",children:[s.jsx(k,{className:"icon"}),s.jsxs("div",{children:[s.jsx("h4",{children:"Quality Guarantee"}),s.jsx("p",{children:"All our products come with a full quality guarantee covering any manufacturing defects."})]})]})]})]})]})})};export{I as default};
