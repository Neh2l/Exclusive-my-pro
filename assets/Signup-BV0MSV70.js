import{r as l,b as g,j as e,L as d}from"./index-BK53n6on.js";const j="/Exclusive-my-pro/assets/register-CgtRTIYq.jpg";async function v(o){try{const a=await fetch("https://backend-gules-six-47.vercel.app/api/users/register",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Error: ${a.status}`);const t=await a.json();return console.log("Response:",t),t}catch(a){return console.error("Request failed:",a.message),null}}function w(){const o=l.useRef(),a=l.useRef(),t=l.useRef(),i=l.useRef(),c=l.useRef(),p=g(),[r,h]=l.useState({}),x=n=>{const s={};return n.name||(s.name="Name is required"),n.gender||(s.gender="Gender is required"),n.address||(s.address="Address is required"),n.email.includes("@")||(s.email="Email is invalid"),n.password.length<6&&(s.password="Password must be at least 6 characters"),s},f=async n=>{n.preventDefault();const s={name:o.current.value,gender:a.current.value,address:t.current.value,email:i.current.value,password:c.current.value};console.log(s);const u=x(s);if(h(u),Object.keys(u).length===0){console.log("User Data before API:",s);const m=await v(s);m?(console.log("API Response:",m),alert("Registered successfully!"),o.current.value="",a.current.value="",t.current.value="",i.current.value="",c.current.value=""):alert("Registration failed!")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pageHeading pt-5 d-flex w-25 ",children:[e.jsx(d,{to:"/",className:" me-1",children:"Home"}),e.jsx("span",{className:"active ",children:p.pathname})]}),e.jsxs("div",{className:"register-container mt-0",children:[e.jsx("div",{className:"img-box",children:e.jsx("img",{src:j,alt:"register"})}),e.jsx("div",{className:"form-box",children:e.jsxs("div",{className:"form-card",children:[e.jsx("h2",{children:"Create an account"}),e.jsx("p",{children:"Enter your details below"}),e.jsxs("form",{onSubmit:f,children:[e.jsx("input",{type:"text",placeholder:"Full Name",ref:o}),r.name&&e.jsx("p",{className:"error",children:r.name}),e.jsxs("select",{ref:a,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),r.gender&&e.jsx("p",{className:"error",children:r.gender}),e.jsx("input",{type:"text",placeholder:"Address",ref:t}),r.address&&e.jsx("p",{className:"error",children:r.address}),e.jsx("input",{type:"email",placeholder:"Email or Phone Number",ref:i}),r.email&&e.jsx("p",{className:"error",children:r.email}),e.jsx("input",{type:"password",placeholder:"Password",ref:c}),r.password&&e.jsx("p",{className:"error",children:r.password}),e.jsx("button",{type:"submit",className:"createAccount",children:"Create Account"}),e.jsx(d,{to:"/reemail",className:"login-link",children:"resend"}),e.jsxs("p",{className:"login-text",children:["Already have an account?!",e.jsx(d,{to:"/login",className:"login-link ms-2",children:"Login"})]})]})]})})]})]})}export{w as default};
