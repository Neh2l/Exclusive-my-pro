import{r as x,C as p,b as m,u as j,j as s,L as u}from"./index-DmZPmXMR.js";import{b as C}from"./index-S7fpRUNE.js";import"./iconBase-CeNRfxg1.js";const N=()=>{const{cart:e,removeFromCart:c,clearCart:t,handleChangeAmount:l,addToCart:r}=x.useContext(p),i=e?.reduce((a,n)=>a+n?.price*(n?.amount||1),0),o=e?.map(a=>a._id);return{cart:e,cartIdies:o,removeFromCart:c,clearCart:t,handleChangeAmount:l,addToCart:r,subTotall:i}};function y(){const{cart:e,removeFromCart:c,clearCart:t,handleChangeAmount:l,subTotall:r}=N(),i=m(),o=j();return!e||e.length===0?s.jsxs("div",{className:"cart-page",children:[s.jsx("h2",{children:"Shopping Cart"}),s.jsx("p",{children:"Your cart is empty."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"pageHeading d-flex pt-5 w-25",children:[s.jsx(u,{to:"/",className:"me-1",children:"Home"}),s.jsx("span",{className:"active",children:i.pathname})]}),s.jsxs("div",{className:"cart-page",children:[s.jsx("h2",{children:"Shopping Cart"}),s.jsxs("div",{className:"cart-layout",children:[s.jsxs("div",{className:"cart-table",children:[s.jsxs("div",{className:"cart-header",children:[s.jsx("span",{children:"Product"}),s.jsx("span",{children:"Price"}),s.jsx("span",{className:"mx-4",children:"Quantity"}),s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:"Left"})]}),e?.map(a=>{const n=Array(a?.stock).fill(0).map((h,d)=>s.jsx("option",{value:d+1,children:d+1},d+1));return s.jsxs("div",{className:"cart-row",children:[s.jsxs("div",{className:"product-info",children:[s.jsx("img",{src:a?.images?.[0],alt:a?.name}),s.jsx("p",{children:a?.name})]}),s.jsxs("p",{className:"m-0",children:["$",a?.price]}),s.jsx("select",{value:a?.amount,onChange:h=>l(h,a._id),className:"mx-4",children:n}),s.jsxs("p",{className:"m-0",children:["$",(a?.price*a?.amount).toFixed(2)]}),s.jsx("div",{className:"trash",onClick:()=>c(a._id),children:s.jsx(C,{})})]},a?._id)}),s.jsx("div",{className:"cart-buttons",children:s.jsx("button",{className:"btn btn-danger",onClick:t,children:"Clear Cart"})})]}),s.jsxs("div",{className:"cart-summary",children:[s.jsx("h3",{children:"Cart Total"}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",r?.toFixed(2)]})]}),s.jsxs("div",{className:"summary-row",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:"$99.00"})]}),s.jsx("hr",{}),s.jsxs("div",{className:"summary-row total",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",(r+99).toFixed(2)]})]}),s.jsx("button",{className:"btn-checkout",onClick:()=>o("/checkout"),children:"Proceed to Checkout"})]})]}),s.jsxs("div",{className:"coupon",children:[s.jsx("input",{type:"text",placeholder:"Coupon Code"}),s.jsx("button",{className:"btn-apply",children:"Apply Coupon"})]})]})]})}export{y as default};
